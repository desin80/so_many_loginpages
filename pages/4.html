<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IM Client - Swiss Style</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/framer-motion/dist/framer-motion.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    
    <!-- 引入强大的排版字体 -->
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Inter:wght@300;400;600;900&display=swap" rel="stylesheet">

    <style>
        :root {
            --swiss-black: #000000;
            --swiss-white: #ffffff;
            --swiss-bg: #f2f2f2;
            --swiss-blue: #0044ff; /* 克莱因蓝 */
        }

        body {
            background-color: var(--swiss-bg);
            color: var(--swiss-black);
            font-family: 'Inter', sans-serif;
            overflow: hidden;
        }

        /* 巨大的标题字体 */
        .font-poster {
            font-family: 'Anton', sans-serif;
            letter-spacing: 1px;
            line-height: 0.9;
            text-transform: uppercase;
        }

        /* 绝对的网格边框 */
        .grid-border {
            border: 2px solid var(--swiss-black);
        }
        .grid-r { border-right: 2px solid var(--swiss-black); }
        .grid-b { border-bottom: 2px solid var(--swiss-black); }
        .grid-t { border-top: 2px solid var(--swiss-black); }

        /* 跑马灯动画 */
        .marquee-container {
            overflow: hidden;
            white-space: nowrap;
        }
        .marquee-content {
            display: inline-block;
            animation: marquee 10s linear infinite;
        }
        @keyframes marquee {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        /* 锐利的按钮 hover 效果 */
        .btn-sharp {
            transition: all 0.2s cubic-bezier(0.075, 0.82, 0.165, 1);
        }
        .btn-sharp:hover:not(:disabled) {
            background-color: var(--swiss-blue);
            color: white;
            transform: translate(-4px, -4px);
            box-shadow: 4px 4px 0 0 var(--swiss-black);
        }
        .btn-sharp:active:not(:disabled) {
            transform: translate(0, 0);
            box-shadow: none;
        }

        /* 输入框聚焦效果：底色变蓝 */
        .input-sharp:focus {
            background-color: rgba(0, 68, 255, 0.05);
            border-left: 8px solid var(--swiss-blue);
            outline: none;
        }
    </style>
</head>
<body class="h-screen w-full flex items-center justify-center p-4">

    <!-- 巨大的背景文字装饰 (Fixed) -->
    <div class="fixed top-0 left-0 w-full h-full pointer-events-none opacity-[0.03] z-0 flex items-center justify-center overflow-hidden">
        <h1 class="font-poster text-[40vw] leading-none whitespace-nowrap">CONNECT</h1>
    </div>

    <div id="root" class="relative z-10 w-full max-w-[900px]"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { motion, AnimatePresence } = window.Motion;

        // --- 跑马灯组件 ---
        const Marquee = ({ text }) => (
            <div className="grid-border bg-black text-white py-2 marquee-container font-poster text-xl tracking-widest">
                <div className="marquee-content">
                    {text} &nbsp;///&nbsp; {text} &nbsp;///&nbsp; {text} &nbsp;///&nbsp; {text} &nbsp;///&nbsp; 
                </div>
            </div>
        );

        // --- 极简输入框 ---
        const SwissInput = ({ label, type = "text", value, onChange, placeholder, rightElem, autoFocus }) => (
            <div className="relative group">
                {/* Label 放在左上角小框里 */}
                <div className="absolute top-0 left-0 bg-black text-white text-[10px] font-bold px-2 py-1 uppercase tracking-wider z-10">
                    {label}
                </div>
                <div className="relative">
                    <input
                        type={type}
                        value={value}
                        onChange={onChange}
                        placeholder={placeholder}
                        autoFocus={autoFocus}
                        className="w-full h-16 pt-6 pb-2 px-4 bg-white grid-b border-l-2 border-r-2 border-black text-xl font-bold font-poster rounded-none input-sharp transition-all duration-300 placeholder-gray-300"
                    />
                    {rightElem && (
                        <div className="absolute right-0 top-0 h-full flex items-center border-l-2 border-black">
                            {rightElem}
                        </div>
                    )}
                </div>
            </div>
        );

        // --- 瑞士风格按钮 ---
        const SwissButton = ({ children, onClick, loading, variant = 'primary' }) => {
            return (
                <button
                    onClick={onClick}
                    disabled={loading}
                    className={`
                        w-full h-16 text-xl font-poster uppercase tracking-wider flex justify-center items-center gap-2
                        grid-border border-t-0
                        ${variant === 'primary' 
                            ? 'bg-white text-black btn-sharp' 
                            : 'bg-gray-100 text-gray-500 hover:bg-black hover:text-white transition-colors'}
                    `}
                >
                    {loading ? <i className="ri-loader-2-fill animate-spin text-2xl"></i> : children}
                    {!loading && variant === 'primary' && <i className="ri-arrow-right-line"></i>}
                </button>
            );
        };

        // --- 验证码按钮 ---
        const CodeBtn = ({ onClick, count }) => (
            <button
                type="button"
                onClick={onClick}
                disabled={count > 0}
                className={`
                    h-full px-6 font-bold font-poster text-lg hover:bg-blue-600 hover:text-white transition-colors
                    ${count > 0 ? 'bg-gray-200 text-gray-400 cursor-not-allowed' : 'bg-white text-blue-600'}
                `}
            >
                {count > 0 ? `${count}S` : 'GET CODE'}
            </button>
        );

        // --- 页面: 登录 ---
        const Login = ({ nav, notify }) => {
            const [form, setForm] = useState({ u: '', p: '' });

            return (
                <motion.div 
                    initial={{ opacity: 0, x: 20 }} animate={{ opacity: 1, x: 0 }} exit={{ opacity: 0, x: -20 }}
                    className="flex flex-col md:flex-row h-full min-h-[400px]"
                >
                    {/* 左侧巨大的视觉区 */}
                    <div className="w-full md:w-5/12 bg-white grid-border md:border-r-0 p-8 flex flex-col justify-between relative overflow-hidden group">
                        <div className="absolute top-[-20px] right-[-20px] w-24 h-24 bg-blue-600 rounded-full blur-3xl opacity-0 group-hover:opacity-20 transition-opacity"></div>
                        <div>
                            <h2 className="font-poster text-6xl md:text-8xl leading-[0.85] mt-4">LOG<br/><span className="text-blue-600">IN.</span></h2>
                            <p className="font-mono text-xs mt-6 text-gray-500 max-w-[150px]">
                                /// SECURE ACCESS<br/>
                                /// CLIENT V1.0<br/>
                                /// NODE_HK_01
                            </p>
                        </div>
                        <div className="mt-8">
                            <button onClick={()=>nav('reg')} className="text-sm font-bold underline decoration-2 decoration-blue-600 hover:bg-black hover:text-white hover:decoration-white transition-all px-1">
                                CREATE ACCOUNT ->
                            </button>
                        </div>
                    </div>

                    {/* 右侧表单区 */}
                    <div className="w-full md:w-7/12 flex flex-col">
                        <SwissInput label="IDENTITY" placeholder="USERNAME" value={form.u} onChange={e=>setForm({...form, u:e.target.value})} autoFocus />
                        <SwissInput label="PASSPHRASE" type="password" placeholder="PASSWORD" value={form.p} onChange={e=>setForm({...form, p:e.target.value})} />
                        
                        {/* 额外功能区 */}
                        <div className="grid-border border-t-0 bg-gray-50 p-4 flex justify-between items-center h-16">
                            <div className="flex items-center gap-2">
                                <div className="w-4 h-4 border-2 border-black cursor-pointer hover:bg-blue-600"></div>
                                <span className="text-xs font-bold">REMEMBER</span>
                            </div>
                            <button onClick={()=>nav('reset')} className="text-xs font-bold text-gray-500 hover:text-blue-600">FORGOT?</button>
                        </div>

                        <SwissButton onClick={()=>notify('ACCESS GRANTED')}>ENTER SYSTEM</SwissButton>
                    </div>
                </motion.div>
            );
        };

        // --- 页面: 注册 ---
        const Register = ({ nav, notify }) => {
            const [form, setForm] = useState({ u:'', e:'', c:'', p:'' });
            const [count, setCount] = useState(0);

            useEffect(() => { if(count>0) setTimeout(()=>setCount(c=>c-1),1000) }, [count]);

            return (
                <motion.div initial={{ opacity: 0, x: 20 }} animate={{ opacity: 1, x: 0 }} exit={{ opacity: 0, x: -20 }}>
                    <div className="grid-border bg-black text-white p-4 flex justify-between items-center">
                        <h2 className="font-poster text-3xl">NEW USER REGISTRATION</h2>
                        <button onClick={()=>nav('login')} className="w-8 h-8 bg-white text-black flex items-center justify-center hover:bg-blue-600 hover:text-white transition-colors">
                            <i className="ri-close-line text-xl"></i>
                        </button>
                    </div>

                    <SwissInput label="01. USERNAME" placeholder="SET ALIAS" value={form.u} onChange={e=>setForm({...form, u:e.target.value})} />
                    
                    <div className="flex flex-col md:flex-row">
                         <div className="flex-1">
                             <SwissInput label="02. EMAIL" placeholder="CONTACT" value={form.e} onChange={e=>setForm({...form, e:e.target.value})} />
                         </div>
                         <div className="w-full md:w-[140px] border-l-0 md:border-l-2 border-black grid-b bg-white relative">
                             {/* 独立的验证码按钮区 */}
                             <div className="absolute top-0 left-0 bg-black text-white text-[10px] font-bold px-2 py-1 uppercase z-10">ACTION</div>
                             <div className="h-16 pt-0">
                                <CodeBtn onClick={()=>{setCount(60);notify('CODE SENT')}} count={count} />
                             </div>
                         </div>
                    </div>

                    <SwissInput label="03. VERIFICATION CODE" placeholder="XXXXXX" value={form.c} onChange={e=>setForm({...form, c:e.target.value})} />
                    <SwissInput label="04. SECURITY KEY" type="password" placeholder="PASSWORD" value={form.p} onChange={e=>setForm({...form, p:e.target.value})} />

                    <SwissButton onClick={()=>{notify('ACCOUNT CREATED');nav('login')}}>CONFIRM REGISTRATION</SwissButton>
                </motion.div>
            );
        };

        // --- 页面: 重置 ---
        const Reset = ({ nav, notify }) => {
            const [form, setForm] = useState({ e:'', c:'', np:'' });
            const [count, setCount] = useState(0);

            useEffect(() => { if(count>0) setTimeout(()=>setCount(c=>c-1),1000) }, [count]);

            return (
                <motion.div initial={{ opacity: 0, x: 20 }} animate={{ opacity: 1, x: 0 }} exit={{ opacity: 0, x: -20 }}>
                    <div className="grid-border bg-blue-600 text-white p-6">
                        <h2 className="font-poster text-5xl">RESET</h2>
                        <p className="text-xs font-mono mt-2 opacity-80">/// RESTORE ACCESS PROTOCOL</p>
                    </div>

                    <SwissInput 
                        label="TARGET EMAIL" placeholder="LINKED ADDRESS" 
                        value={form.e} onChange={e=>setForm({...form, e:e.target.value})}
                        rightElem={<div className="h-full"><CodeBtn onClick={()=>{setCount(60);notify('CHECK EMAIL')}} count={count} /></div>}
                    />

                    <SwissInput label="AUTH CODE" placeholder="ENTER CODE" value={form.c} onChange={e=>setForm({...form, c:e.target.value})} />
                    <SwissInput label="NEW SECRET" type="password" placeholder="NEW PASSWORD" value={form.np} onChange={e=>setForm({...form, np:e.target.value})} />

                    <div className="flex">
                        <div className="w-1/3">
                            <SwissButton variant="secondary" onClick={()=>nav('login')}>BACK</SwissButton>
                        </div>
                        <div className="w-2/3 border-l-2 border-black">
                            <SwissButton onClick={()=>{notify('PASSWORD UPDATED');nav('login')}}>UPDATE</SwissButton>
                        </div>
                    </div>
                </motion.div>
            );
        };

        // --- 主 App ---
        const App = () => {
            const [page, setPage] = useState('login');
            
            // 简单的 JS Toast
            const notify = (msg) => {
                const div = document.createElement('div');
                div.className = "fixed top-0 left-0 w-full bg-blue-600 text-white text-center font-bold font-poster text-xl py-4 z-50 transform -translate-y-full transition-transform duration-300";
                div.innerText = msg + " /// " + msg + " /// " + msg;
                document.body.appendChild(div);
                
                requestAnimationFrame(() => div.style.transform = 'translateY(0)');
                setTimeout(() => {
                    div.style.transform = 'translateY(-100%)';
                    setTimeout(() => div.remove(), 300);
                }, 2000);
            };

            return (
                <div className="w-full shadow-[20px_20px_0_0_rgba(0,0,0,0.1)]">
                    <Marquee text="IM SYSTEM ONLINE * SECURE CONNECTION ESTABLISHED * WELCOME USER" />
                    
                    <div className="bg-white min-h-[400px]">
                        <AnimatePresence mode="wait">
                            {page === 'login' && <Login key="login" nav={setPage} notify={notify} />}
                            {page === 'reg' && <Register key="reg" nav={setPage} notify={notify} />}
                            {page === 'reset' && <Reset key="reset" nav={setPage} notify={notify} />}
                        </AnimatePresence>
                    </div>

                    <div className="grid-border border-t-0 bg-gray-100 p-2 flex justify-between items-center text-[10px] font-mono text-gray-400">
                        <span>BUILD.2025.10.01</span>
                        <span>DESIGN: SWISS / INT</span>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>